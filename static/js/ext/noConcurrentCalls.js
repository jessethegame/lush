// Generated by CoffeeScript 1.7.1
(function() {
  var executing, noConcurrentCalls, pending,
    __slice = [].slice;

  executing = false;

  pending = null;

  noConcurrentCalls = function(func) {
    return function() {
      var args, dfd;
      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      dfd = $.Deferred();
      if (executing) {
        pending = {
          func: func,
          args: args,
          dfd: dfd
        };
        return dfd;
      }
      executing = true;
      dfd.then(function() {
        executing = false;
        if (!pending) {
          return;
        }
        func = pending.func, args = pending.args, dfd = pending.dfd;
        pending = null;
        return noConcurrentCalls(func).apply(null, args).then(dfd.resolve, dfd.reject);
      });
      return func.apply(null, args).always(dfd.resolve);
    };
  };

  window.noConcurrentCalls = noConcurrentCalls;

}).call(this);
